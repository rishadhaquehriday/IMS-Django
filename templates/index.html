{% extends 'base.html' %}

{% block content %}
    
    <div class="container">
        <div class="row">
            <!--Block X-->
            <div class="col col-6">
                <div class="row">
                    <div class="col">
                        <h4 class="alert alert-info text-center">REGISTRATION</h4>
                        <form method="post" >
                            {% csrf_token %}
                            <!-- Testing New Row-->
                            <!-- form Row 1-->
                            <div class="row">
                            <div class="col col-6">
                                {{form.name.label}}
                                {{form.name}}
                            </div>
                            <div class="col col-6">
                                {{form.email.label}}
                                {{form.email}}
                                </div>
                            <!-- form Row 2-->
                            </div>
                            <!--Test Finishes Here-->
                            <div class="my-4">
                                {{form.password.label}}
                                {{form.password}}
                            </div>
                            <div class="text-center">
                            <input type="submit" value="submit" class="btn btn-primary" >
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!--Block Y-->
            <div class="col col-6">
                {% if data %}
        <div class="row">
            <div class="col">
                <h4 class="alert alert-warning text-center">RECORDS</h4>
                <table class="table">
                    <thead class="table table-success rounded-3">
                    <tr>
                        <th scope="col">SL</th>
                        <th scope="col">Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Password</th>
                        <th scope="col">Action</th>
                    </tr>
                    </thead>
                    <tbody>
                
                {% for i in data %}
                        <tr>
                            <td scope="row">{{forloop.counter}}</td>
                            <td>{{i.name}}</td>
                            <td>{{i.email}}</td>
                            <td>{{i.password}}</td>
                            <td>
                                <a href="{% url 'update' i.id %}" class="btn btn-warning">
                                    Edit
                                </a>
                                <form action="{% url 'delete' i.id %}"  method="post" class="d-inline">
                                    {% csrf_token %}
                                    <button type="submit" class="btn btn-primary">
                                        Delete
                                    </button>
                                </form>
                            </td>
                        </tr>      
                {% endfor %}
               
                    </tbody>
                </table>
             </div>
        </div>
        {% else %}
            <h1>Nothing</h1>
        {% endif %}
            </div>
        </div>
    </div>      
{% endblock content %}